vpc-flow-log-pipeline:
  source:
    s3:
      notification_type: sqs
      compression: gzip
      codec:
        csv:
          delimiter: ' '
      sqs:
        queue_url: "https://sqs.us-east-1.amazonaws.com/534869792916/SampleVpcFlowLogsStack-VpcFlowLogEventQueue21F99DA0-jGLtUCEZi6aI"
      aws:
        region: us-east-1
        sts_role_arn: "arn:aws:iam::534869792916:role/DataPrepperAccessStack-DataPrepperRole3A704B84-1P7U2NIMURQB4"

  processor:
    - declarative_model:
        auto_type: vpc-flow-logs

  sink:
    - opensearch:
        hosts: ["https://opensearch:9200"]
        insecure: true
        username: "admin"
        password: "admin"
        index: vpc_flow_logs
        template_file: /usr/share/data-prepper/vpc_flow_logs_template.json
